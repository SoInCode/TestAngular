<p>form works!</p>

<!-- <form (ngSubmit)="register(userForm.value)" #userForm="ngForm">
    <div>
        <label>Username</label>
        <input name="username" ngModel>
    </div>
    <div>
        <label>Password</label>
        <input type="password" name="password" ngModel>
    </div>
    <button type="submit">Register</button>
</form> -->

<!-- <form (ngSubmit)="register()">
    <div>
        <label>Username</label>
        <input name="username" [(ngModel)]="user.username">
    </div>
    <div>
        <label>Password</label>
        <input type="password" name="password" [(ngModel)]="user.password">
    </div>
    <button type="submit">Register</button>
</form> -->

<!-- <form (ngSubmit)="register(userForm.value)" #userForm="ngForm">
    <div>
        <label>Username</label>
        <input name="username" ngModel required #username="ngModel">
        <div *ngIf="username.dirty && username.hasError('required')"> Username is required
        </div>
    </div>
    <div>
        <label>Password</label>
        <input type="password" name="password" ngModel required #password="ngModel">
        <div *ngIf="password.dirty && password.hasError('required')"> Password is required
        </div>
    </div>
    <button type="submit" [disabled]="userForm.invalid"> Register </button>
</form> -->

<!-- Formulaire piloté par le code -->

<form (ngSubmit)="register()" [formGroup]="userForm">
    <div>
        <label>Username*</label>
        <input formControlName="username">
        <div *ngIf="userForm.get('username')?.dirty && userForm.get('username')?.invalid">
            Champ username obligatoire (minimum 4 caractères)
        </div>
    </div>
    <div>
        <label>Password*</label>
        <input type="password" formControlName="password">
        <div *ngIf="userForm.get('password')?.dirty && userForm.get('password')?.invalid">
            Champ password obligatoire
        </div>
    </div>
    <div *ngIf="userForm.invalid">
        Tous les champs avec avec une étoile (*) doivent être renseignés 
    </div>
    <button type="submit">Register</button>
</form>